{# templates/front/groupe/_group_card.html.twig #}
<div class="group-card" 
     data-matiere="{{ groupe.matiere|lower }}"
     data-status="{{ groupe.statut }}"
     data-members="{{ groupe.nbrMembre }}"
     data-id="{{ groupe.id }}"
     data-created="{{ groupe.CreatedAt ? groupe.CreatedAt|date('c') : '' }}"
     style="background: white; border-radius: var(--radius-xl); border: 1px solid var(--gray-200); overflow: hidden; transition: all var(--transition); box-shadow: var(--shadow-sm); display: flex; flex-direction: column;">
    
    <!-- Header with gradient -->
    <div style="background: linear-gradient(135deg, var(--primary-red) 0%, var(--primary-red-dark) 100%); padding: 20px; position: relative; overflow: hidden;">
        <div style="position: absolute; top: -20px; right: -20px; width: 80px; height: 80px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
        <div style="display: flex; justify-content: space-between; align-items: flex-start; position: relative; z-index: 1;">
            <div>
                <div style="width: 50px; height: 50px; background: rgba(255,255,255,0.25); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 18px;">
                    {{ groupe.nomProjet|first }}
                </div>
            </div>
            <span style="background: white; color: var(--primary-red); padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: 700; display: flex; align-items: center; gap: 6px;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
                {{ groupe.nbrMembre }}
            </span>
        </div>
    </div>
    
    <!-- Body -->
    <div style="padding: 20px; flex: 1; display: flex; flex-direction: column;">
        <h5 style="font-size: 18px; font-weight: 700; color: var(--gray-900); margin: 0 0 12px 0; line-height: 1.4;">
            {{ groupe.nomProjet }}
        </h5>
        
        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px; color: var(--gray-600); font-size: 14px;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
            </svg>
            <span>{{ groupe.matiere }}</span>
        </div>
        
        <!-- Status Badge -->
        <div style="margin-bottom: 16px;">
            {% if groupe.statut == 'Actif' %}
                <span style="display: inline-flex; align-items: center; gap: 6px; background: #D1FAE5; color: #065F46; padding: 6px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                    Actif
                </span>
            {% elseif groupe.statut == 'Terminé' %}
                <span style="display: inline-flex; align-items: center; gap: 6px; background: #DBEAFE; color: #1E40AF; padding: 6px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/><path d="M16.31 7.71L10 13.99l-2.31-2.29"/>
                    </svg>
                    Terminé
                </span>
            {% elseif groupe.statut == 'En pause' %}
                <span style="display: inline-flex; align-items: center; gap: 6px; background: #FEF3C7; color: #92400E; padding: 6px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/>
                    </svg>
                    En pause
                </span>
            {% else %}
                <span style="display: inline-flex; align-items: center; gap: 6px; background: var(--gray-100); color: var(--gray-700); padding: 6px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <circle cx="12" cy="12" r="10"/>
                    </svg>
                    {{ groupe.statut }}
                </span>
            {% endif %}
        </div>
        
        <!-- Description -->
        {% if groupe.description %}
        <p style="color: var(--gray-600); font-size: 14px; line-height: 1.5; margin: 0 0 16px 0; flex: 1;">
            {{ groupe.description|length > 100 ? groupe.description|slice(0, 100) ~ '...' : groupe.description }}
        </p>
        {% endif %}
        
        <!-- Date -->
        <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--gray-500); margin-top: auto; padding-top: 16px; border-top: 1px solid var(--gray-100);">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
            Créé le {{ groupe.CreatedAt ? groupe.CreatedAt|date('d/m/Y') : 'N/A' }}
        </div>
    </div>
    
    <!-- Footer with actions -->
    <div style="padding: 16px 20px; background: var(--gray-50); border-top: 1px solid var(--gray-100); display: flex; gap: 12px;">
        <a href="{{ path('front_groupe_projet_show', {'id': groupe.id}) }}" 
           style="flex: 1; padding: 10px 16px; background: var(--primary-gradient); color: white; text-decoration: none; border-radius: var(--radius-lg); font-size: 13px; font-weight: 600; text-align: center; transition: all var(--transition); border: none; cursor: pointer; box-shadow: var(--shadow-sm);">
            Voir Détails
        </a>
        
        {% if is_granted('ROLE_ADMIN') or groupe.createdBy == app.user %}
            <a href="{{ path('front_groupe_projet_edit', {'id': groupe.id}) }}" 
               style="flex: 1; padding: 10px 16px; background: white; color: var(--primary-red); text-decoration: none; border-radius: var(--radius-lg); font-size: 13px; font-weight: 600; text-align: center; transition: all var(--transition); border: 1px solid var(--primary-red); cursor: pointer;">
                Modifier
            </a>
        {% endif %}
    </div>
</div>

<style>
.group-card:hover {
    transform: translateY(-6px);
    box-shadow: var(--shadow-lg);
    border-color: var(--primary-red-light);
}
</style>